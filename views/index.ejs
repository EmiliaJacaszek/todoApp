<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="/stylesheets/style.css" rel="stylesheet"/>
    <title>Todo App</title>
</head>

<body>
    <nav><a href="/api/users/logout">Logout</a></nav>
    <div class="todo-container">
        <h2>To-Do List</h2>
        <div class="todo">
            <form action= "/api/todo-list" method="POST">
                <input type="text" name="content">
                <button type="submit">Add item</button>
            </form>

        <ul class="todo-list">
            <% todoTasks.forEach(details => { %>
            <li class="todo-list-item">

                <div class="todo-list-item-name"><%= details.content %></div>
                <button class="btn-edit">Edit</button>

               <div class="hidden-form">
                <form  action= "/api/todo-list/edit/<%= details._id %>" method="POST" >
                    <input type="text" name="content" value="<%= details.content %>">
                    <button type="submit">Update</button>
                </form>
               </div>

            
                <a href="/api/todo-list/remove/<%= details._id %>" class="remove">
                    <button class="btn-remove" type="submit">delete</button>
                </a>
            </li>
            <% }) %>
        </ul>
    </divclass="hidden-form">
    </div>

    <script>
    const buttons = document.querySelectorAll('.btn-edit');
    const deleteForms = document.querySelectorAll('.hidden-form');

            for(let i =0; i< buttons.length; i++){
            buttons[i].addEventListener('click', event => {
            buttons[i].style.display= 'none';
            console.log("click click");
            deleteForms[i].style.display = 'block';

            })
            };

    </script>


</body>
</html>